(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{305:function(e,t,n){},306:function(e,t,n){},307:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n(0),r=n.n(a),i=n(11),s=n.n(i),o=n(23),l=n(39),j=n(152),u=n(35),b="CREATE",d="UPDATE",p="DELETE",O="FETCH_ALL",h="LIKE",x=Object(l.c)({posts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:return t.payload;case h:return e.map((function(e){return e._id===t.payload._id?t.payload:e}));case b:return[].concat(Object(u.a)(e),[t.payload]);case d:return e.map((function(e){return e._id===t.payload._id?t.payload:e}));case p:return e.filter((function(e){return e._id!==t.payload}));default:return e}},userRoute:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:return t.payload;case b:return[].concat(Object(u.a)(e),[t.payload]);case d:return e.map((function(e){return e._id===t.payload._id?t.payload:e}));case p:return e.filter((function(e){return e._id!==t.payload}));default:return e}}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var f=n(36),m=n(15),v=n(13),g=n(29),y=[{id:1,url:"https://www.google.com",icon:Object(c.jsx)(g.h,{})}],w=[{id:1,url:"https://duo.google.com/?web&utm_source=marketing_page_button_main",icon:Object(c.jsx)(g.j,{})}],N=[{id:1,url:"https://www.youtube.com",icon:Object(c.jsx)(g.j,{})},{id:2,url:"https://www.googlebooks.com",icon:Object(c.jsx)(g.b,{})},{id:3,url:"https://www.googlecalendar.com",icon:Object(c.jsx)(g.g,{})},{id:4,url:"https://www.googledrive.com",icon:Object(c.jsx)(g.d,{})},{id:5,url:"https://www.google.com",icon:Object(c.jsx)(g.f,{})},{id:6,url:"https://www.twitter.com",icon:Object(c.jsx)(g.i,{})},{id:7,url:"https://www.google.com",icon:Object(c.jsx)(g.c,{})}],k=n.p+"static/media/rhema.4e9f1a28.png",C=function(){var e=Object(a.useState)(!1),t=Object(v.a)(e,2),n=t[0],r=t[1],i=Object(a.useRef)(null),s=Object(a.useRef)(null),o=function(){r(!n)};return Object(a.useEffect)((function(){var e=s.current.getBoundingClientRect().height;i.current.style.height=n?"".concat(e,"px"):"0px"}),[n]),Object(c.jsx)("nav",{children:Object(c.jsxs)("div",{className:"nav-center",children:[Object(c.jsxs)("div",{className:"nav-header",children:[Object(c.jsx)("img",{src:k,className:"logo",alt:"rhema",onClick:o}),Object(c.jsxs)("button",{className:"nav-toggle",onClick:o,children:[Object(c.jsx)(g.a,{})," "]})]}),Object(c.jsx)("div",{className:"links-container",ref:i,children:Object(c.jsxs)("ul",{className:"links",ref:s,children:[Object(c.jsxs)("li",{children:[" ",Object(c.jsxs)(f.b,{color:"primary",to:"/",children:[Object(c.jsx)(g.e,{})," "]})," "]}),y.map((function(e){var t=e.id,n=e.url,a=e.icon;return Object(c.jsxs)("form",{className:"search-form",onSubmit:function(e){return e.preventDefault()},children:[Object(c.jsxs)("li",{children:["  ",Object(c.jsx)("a",{onChange:n,href:n,children:a})," "]})," ",Object(c.jsx)("li",{}),Object(c.jsxs)("li",{children:[" ",Object(c.jsx)("input",{className:"searchBar",type:"text",placeholder:"Search Facilitators"},t)]})]})})),Object(c.jsx)("li",{className:"nav-item",children:Object(c.jsx)(f.b,{className:"nav-link",to:"/contactFacilitator",children:"Staff Room"})}),Object(c.jsx)("li",{className:"nav-item",children:Object(c.jsx)(f.b,{className:"nav-link",to:"/facilitator",children:"Facilitator"})}),Object(c.jsx)("li",{className:"nav-item",children:Object(c.jsx)(f.b,{className:"nav-link",to:"/learner",children:"Learner"})}),Object(c.jsx)("li",{className:"nav-item",children:Object(c.jsx)(f.b,{className:"nav-link",to:"/vroom",children:"Virtual Room"})}),Object(c.jsx)("li",{className:"nav-item",children:Object(c.jsx)(f.b,{className:"nav-link",to:"/contactFacilitator",children:"Library"})})]})}),Object(c.jsx)("ul",{className:"social-icons",children:N.map((function(e){var t=e.id,n=e.url,a=e.icon;return Object(c.jsx)("li",{children:Object(c.jsx)("a",{href:n,children:a})},t)}))})]})})},S=function(){return Object(c.jsxs)("div",{children:[Object(c.jsxs)("form",{className:"section-center",children:[Object(c.jsx)("h4",{children:" Login Your Details!"}),Object(c.jsx)("label",{children:" Email:"}),Object(c.jsx)("br",{}),Object(c.jsx)("input",{type:"email"}),Object(c.jsx)("br",{}),Object(c.jsx)("label",{children:"Password:"}),Object(c.jsx)("br",{}),Object(c.jsx)("input",{type:"password"}),Object(c.jsx)("br",{}),Object(c.jsx)("br",{}),Object(c.jsx)("button",{className:"button",color:"primary",children:Object(c.jsx)("a",{href:"/vroom",children:"Login"})})]}),Object(c.jsxs)("form",{className:"section-centre",children:[Object(c.jsx)("h3",{children:"Welcome to Rhema Learners' App !"}),Object(c.jsx)("br",{}),Object(c.jsx)("p",{children:"Contact us: P. O. Box 45 KN Accra"}),Object(c.jsx)("p",{children:"Tel: +2335529021330/ 03022794483"}),Object(c.jsx)("p",{children:"Contact us: P. O. Box 45 KN Accra"}),Object(c.jsx)("h4",{children:"Our Services Include:"}),Object(c.jsx)("p",{children:"1. Virtual Learning"}),Object(c.jsx)("p",{children:"2. One-on-One Tuition"}),Object(c.jsx)("p",{children:"3. Library..."})]})]})},E=n(20),R=n(9),F=n.n(R),I=n(21),P=n(339),L=n(336),_=Object(L.a)((function(){return{appBar:{borderRadius:15,margin:"5px 0",display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"},heading:{color:P.a},image:{marginRight:"15px"}}})),W=n(340),B=n(342),D=n(343),T=n(34),A=n.n(T),z="http://localhost:4001/posts",H=function(e){return A.a.patch("".concat(z,"/").concat(e,"/likePost"))},J=function(e,t){return A.a.patch("".concat(z,"/").concat(e),t)},M=function(e){return A.a.delete("".concat(z,"/").concat(e))},U="http://localhost:4001/userRoute",V=function(e,t){return A.a.patch("".concat(U,"/").concat(e),t)},q=function(e){return function(){var t=Object(I.a)(F.a.mark((function t(n){var c,a;return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,r=e,A.a.post(U,r);case 3:c=t.sent,a=c.data,n({type:b,payload:a}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0.message);case 11:case"end":return t.stop()}var r}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},K=function(e,t){return function(){var n=Object(I.a)(F.a.mark((function n(c){var a,r;return F.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,V(e,t);case 3:a=n.sent,r=a.data,c({type:d,payload:r}),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),console.log(n.t0.message);case 11:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(e){return n.apply(this,arguments)}}()},Y=function(e){var t=e.currentId,n=e.setCurrentId,r=Object(a.useState)({profile:"",email:"",password:""}),i=Object(v.a)(r,2),s=i[0],l=i[1],j=Object(o.c)((function(e){return t?e.User.save((function(){return j.id===t})):null})),u=Object(o.b)(),b=_();Object(a.useEffect)((function(){j&&l(j)}),[j]);var d=function(){n(0),l({profile:"",email:"",password:""})},p=function(){var e=Object(I.a)(F.a.mark((function e(n){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.preventDefault(),0===t?(u(q(s)),d()):(u(K(t,s)),d());case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(c.jsxs)("div",{children:[Object(c.jsx)(W.a,{maxWidth:"lg",children:Object(c.jsx)(B.a,{className:b.appBar,position:"static",color:"inherit",children:Object(c.jsx)(D.a,{className:b.heading,variant:"h5",align:"center",children:"Hello! Interested in contributing to this community? Please Register here!"})})}),Object(c.jsx)("br",{}),Object(c.jsx)("br",{}),Object(c.jsxs)("form",{className:"section-center",onSubmit:p,children:[Object(c.jsx)("h3",{children:"Registration Form"}),Object(c.jsx)("label",{children:" Facilitator Profile:"}),Object(c.jsx)("br",{}),Object(c.jsx)("input",{type:"text",name:"profile",label:"profile",value:s.profile,onChange:function(e){return l(Object(E.a)(Object(E.a)({},s),{},{profile:e.target.value}))}}),Object(c.jsx)("br",{}),Object(c.jsx)("label",{children:" Email:"}),Object(c.jsx)("br",{}),Object(c.jsx)("input",{type:"email",name:"email",label:"email",value:s.email,onChange:function(e){return l(Object(E.a)(Object(E.a)({},s),{},{email:e.target.value}))}}),Object(c.jsx)("br",{}),Object(c.jsx)("label",{children:" Password:"}),Object(c.jsx)("br",{}),Object(c.jsx)("input",{type:"password",name:"password",label:"password",value:s.password,onChange:function(e){return l(Object(E.a)(Object(E.a)({},s),{},{password:e.target.value}))}}),Object(c.jsx)("br",{}),Object(c.jsx)("br",{}),Object(c.jsx)("button",{className:"button",type:"submit",onSubmit:d,children:Object(c.jsx)("a",{href:"/contactFacilitator",children:"Register"})})]})]})};var $=function(e,t){var n=Object(a.useState)((function(){try{var n=window.localStorage.getItem(e);return n?JSON.parse(n):t}catch(c){return console.log(c),t}})),c=Object(v.a)(n,2),r=c[0],i=c[1];return[r,function(t){try{var n=t instanceof Function?t(r):t;i(n),window.localStorage.setItem(e,JSON.stringify(n))}catch(c){console.log(c)}}]};var G=function(){var e=$("name",""),t=Object(v.a)(e,2),n=t[0],a=t[1],r=_();return Object(c.jsx)("div",{children:Object(c.jsxs)("section",{children:[Object(c.jsx)(W.a,{maxWidth:"lg",children:Object(c.jsx)(B.a,{className:r.appBar,position:"static",color:"inherit",children:Object(c.jsx)(D.a,{className:r.heading,variant:"h5",align:"center",children:"Hi, new here. Signup as a learner, to access our range of services!"})})}),Object(c.jsx)("br",{}),Object(c.jsx)("br",{}),Object(c.jsxs)("form",{className:"section-center",onSubmit:function(e){e.preventDefault()},children:[Object(c.jsx)("h3",{children:"Signup Form"}),Object(c.jsx)("label",{children:" Learner Profile (Full Name):"}),Object(c.jsx)("br",{}),Object(c.jsx)("input",{type:"text",value:n,onChange:function(e){a(e.target.value),console.log(n)}}),Object(c.jsx)("br",{}),Object(c.jsx)("label",{children:" Email:"}),Object(c.jsx)("br",{}),Object(c.jsx)("input",{type:"email"}),Object(c.jsx)("br",{}),Object(c.jsx)("label",{children:" Password:"}),Object(c.jsx)("br",{}),Object(c.jsx)("input",{type:"password"}),Object(c.jsx)("br",{}),Object(c.jsx)("br",{}),Object(c.jsx)("button",{className:"button",children:Object(c.jsx)("a",{href:"/",children:"Submit"})})]})]})})},Q=n(349),X=n(348),Z=n(344),ee=n(345),te=n(351),ne=n(346),ce=n(347),ae=n(159),re=n.n(ae),ie=n(160),se=n.n(ie),oe=n(158),le=n.n(oe),je=n(157),ue=n.n(je),be=function(e){return function(){var t=Object(I.a)(F.a.mark((function t(n){var c,a;return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,r=e,A.a.post(z,r);case 3:c=t.sent,a=c.data,n({type:b,payload:a}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0.message);case 11:case"end":return t.stop()}var r}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},de=function(e,t){return function(){var n=Object(I.a)(F.a.mark((function n(c){var a,r;return F.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,J(e,t);case 3:a=n.sent,r=a.data,c({type:d,payload:r}),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),console.log(n.t0.message);case 11:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(e){return n.apply(this,arguments)}}()},pe=Object(L.a)({media:{height:0,paddingTop:"56.25%",backgroundColor:"rgba(0, 0, 0, 0.5)",backgroundBlendMode:"darken"},border:{border:"solid"},fullHeightCard:{height:"100%"},card:{display:"flex",flexDirection:"column",justifyContent:"space-between",borderRadius:"15px",height:"100%",position:"relative"},overlay:{position:"absolute",top:"20px",left:"20px",color:"white"},overlay2:{position:"absolute",top:"20px",right:"20px",color:"white"},grid:{display:"flex"},details:{display:"flex",justifyContent:"space-between",margin:"20px"},title:{padding:"0 16px"},cardActions:{padding:"0 16px 8px 16px",display:"flex",justifyContent:"space-between"}}),Oe=function(e){var t=e.post,n=e.setCurrentId,a=Object(o.b)(),r=pe();return Object(c.jsxs)(Z.a,{className:r.card,children:[Object(c.jsx)(ee.a,{className:r.media,video:t.selectedFile||"file.mp4",image:t.selectedFile||"https://user-images.githubusercontent.com/194400/49531010-48dad180-f8b1-11e8-8d89-1e61320e1d82.png",title:t.title}),Object(c.jsxs)("div",{className:r.overlay,children:[Object(c.jsx)(D.a,{variant:"h6",children:t.creator}),Object(c.jsx)(D.a,{variant:"body2",children:ue()(t.createdAt).fromNow()})]}),Object(c.jsx)("div",{className:r.overlay2,children:Object(c.jsx)(te.a,{style:{color:"white"},size:"small",onClick:function(){return n(t._id)},children:Object(c.jsx)(le.a,{fontSize:"default"})})}),Object(c.jsx)("div",{className:r.details,children:Object(c.jsx)(D.a,{variant:"body2",color:"textSecondary",component:"h2",children:t.tags.map((function(e){return"#".concat(e," ")}))})}),Object(c.jsx)(D.a,{className:r.title,gutterBottom:!0,variant:"h5",component:"h2",children:t.title}),Object(c.jsx)(ne.a,{children:Object(c.jsx)(D.a,{variant:"body2",color:"textSecondary",component:"p",children:t.message})}),Object(c.jsxs)(ce.a,{className:r.cardActions,children:[Object(c.jsxs)(te.a,{size:"small",color:"primary",onClick:function(){return a((e=t._id,function(){var t=Object(I.a)(F.a.mark((function t(n){var c,a;return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,H(e);case 3:c=t.sent,a=c.data,n({type:h,payload:a}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0.message);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()));var e},children:[Object(c.jsx)(re.a,{fontSize:"small"})," Like ",t.likeCount," "]}),Object(c.jsxs)(te.a,{size:"small",color:"primary",onClick:function(){return a((e=t._id,function(){var t=Object(I.a)(F.a.mark((function t(n){return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,M(e);case 3:n({type:p,payload:e}),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),console.log(t.t0.message);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}()));var e},children:[Object(c.jsx)(se.a,{fontSize:"small"})," Delete"]})]})]})},he=Object(L.a)((function(e){return{mainContainer:{display:"flex",alignItems:"center"},smMargin:{margin:e.spacing(1)},actionDiv:{textAlign:"center"}}})),xe=function(e){var t=e.setCurrentId,n=Object(o.c)((function(e){return e.posts})),a=he();return n.length?Object(c.jsx)(Q.a,{className:a.container,container:!0,alignItems:"stretch",spacing:3,children:n.map((function(e){return Object(c.jsx)(Q.a,{item:!0,xs:12,sm:6,md:6,children:Object(c.jsx)(Oe,{post:e,setCurrentId:t})},e._id)}))}):Object(c.jsx)(X.a,{})},fe=n(164),me=n(350),ve=n(161),ge=n.n(ve),ye=Object(L.a)((function(e){return{root:{"& .MuiTextField-root":{margin:e.spacing(1)}},paper:{padding:e.spacing(2)},form:{display:"flex",flexWrap:"wrap",justifyContent:"center"},fileInput:{width:"97%",margin:"10px 0"},buttonSubmit:{marginBottom:10}}})),we=function(e){var t=e.currentId,n=e.setCurrentId,r=Object(a.useState)({creator:"",title:"",message:"",tags:"",selectedFile:""}),i=Object(v.a)(r,2),s=i[0],l=i[1],j=Object(o.c)((function(e){return t?e.posts.find((function(e){return e._id===t})):null})),u=Object(o.b)(),b=ye();Object(a.useEffect)((function(){j&&l(j)}),[j]);var d=function(){n(0),l({creator:"",title:"",message:"",tags:"",selectedFile:""})},p=function(){var e=Object(I.a)(F.a.mark((function e(n){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.preventDefault(),0===t?(u(be(s)),d()):(u(de(t,s)),d());case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(c.jsx)(fe.a,{className:b.paper,children:Object(c.jsxs)("form",{autoComplete:"off",noValidate:!0,className:"".concat(b.root," ").concat(b.form),onSubmit:p,children:[Object(c.jsx)(D.a,{variant:"h6",children:t?'Editing "'.concat(j.title,'"'):"Facilitator Profiles"}),Object(c.jsx)(me.a,{name:"creator",variant:"outlined",label:"Creator",fullWidth:!0,value:s.creator,onChange:function(e){return l(Object(E.a)(Object(E.a)({},s),{},{creator:e.target.value}))}}),Object(c.jsx)(me.a,{name:"title",variant:"outlined",label:"Title",fullWidth:!0,value:s.title,onChange:function(e){return l(Object(E.a)(Object(E.a)({},s),{},{title:e.target.value}))}}),Object(c.jsx)(me.a,{name:"message",variant:"outlined",label:"Message",fullWidth:!0,multiline:!0,rows:4,value:s.message,onChange:function(e){return l(Object(E.a)(Object(E.a)({},s),{},{message:e.target.value}))}}),Object(c.jsx)(me.a,{name:"tags",variant:"outlined",label:"Tags (coma separated)",fullWidth:!0,value:s.tags,onChange:function(e){return l(Object(E.a)(Object(E.a)({},s),{},{tags:e.target.value.split(",")}))}}),Object(c.jsx)("div",{className:b.fileInput,children:Object(c.jsx)(ge.a,{type:"file",multiple:!1,onDone:function(e){var t=e.base64;return l(Object(E.a)(Object(E.a)({},s),{},{selectedFile:t}))}})}),Object(c.jsx)(te.a,{className:b.buttonSubmit,variant:"contained",color:"primary",size:"large",type:"submit",fullWidth:!0,children:"Submit"}),Object(c.jsx)(te.a,{variant:"contained",color:"secondary",size:"small",onClick:d,fullWidth:!0,children:"Clear"})]})})},Ne=function(){var e=Object(a.useState)(0),t=Object(v.a)(e,2),n=t[0],r=t[1],i=Object(o.b)(),s=_();return Object(a.useEffect)((function(){i(function(){var e=Object(I.a)(F.a.mark((function e(t){var n,c;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.a.get(z);case 3:n=e.sent,c=n.data,t({type:O,payload:c}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}())}),[n,i]),Object(c.jsxs)("div",{className:"contact",children:[Object(c.jsx)("div",{children:Object(c.jsx)(B.a,{className:s.appBar,position:"static",color:"inherit",children:Object(c.jsx)(D.a,{className:s.heading,variant:"h5",align:"center",children:"Welcome! You can frequently update your profile as a Facilitator for Learners to spot and know more about you."})})}),Object(c.jsxs)(W.a,{maxWidth:"lg",children:[Object(c.jsx)("br",{})," ",Object(c.jsx)(W.a,{children:Object(c.jsxs)(Q.a,{container:!0,justify:"space-between",alignItems:"stretch",spacing:3,children:[Object(c.jsx)(Q.a,{item:!0,xs:12,sm:7,children:Object(c.jsx)(xe,{setCurrentId:r})}),Object(c.jsx)(Q.a,{item:!0,xs:12,sm:4,children:Object(c.jsx)(we,{currentId:n,setCurrentId:r})})]})})]})]})},ke=n.p+"static/media/Rheema.d88a3fd7.png",Ce=function(e){var t=e.username,n=e.handleUsernameChange,a=e.roomName,r=e.handleRoomNameChange,i=e.handleSubmit;return Object(c.jsxs)(Z.a,{className:"facilitator",children:[Object(c.jsx)("div",{}),Object(c.jsx)("br",{}),Object(c.jsxs)("form",{onSubmit:i,children:[Object(c.jsxs)("div",{children:[Object(c.jsx)("label",{htmlFor:"name",children:"Please Enter Name:"}),Object(c.jsx)("input",{type:"text",id:"field",value:t,onChange:n,required:!0})]}),Object(c.jsxs)("div",{children:[Object(c.jsx)("label",{htmlFor:"room",children:"Enter Room name:"}),Object(c.jsx)("input",{type:"text",id:"room",value:a,onChange:r,required:!0})]}),Object(c.jsx)("label",{children:"Enter Virtual Room"})," ",Object(c.jsx)("br",{}),w.map((function(e){var t=e.id,n=e.url,a=e.icon;return Object(c.jsx)("a",{color:"primary",size:"large",onChange:n,href:n,children:a},t)})),Object(c.jsx)("div",{}),Object(c.jsx)("br",{}),Object(c.jsx)("div",{}),Object(c.jsx)("br",{}),Object(c.jsx)("div",{}),Object(c.jsx)("br",{}),Object(c.jsx)("div",{}),Object(c.jsx)("br",{}),Object(c.jsx)("div",{}),Object(c.jsx)("br",{}),Object(c.jsx)("div",{}),Object(c.jsx)("br",{}),Object(c.jsx)("div",{})]})]})},Se=n(162),Ee=n.n(Se),Re=function(e){var t=e.participant,n=Object(a.useState)([]),r=Object(v.a)(n,2),i=r[0],s=r[1],o=Object(a.useState)([]),l=Object(v.a)(o,2),j=l[0],b=l[1],d=Object(a.useRef)(),p=Object(a.useRef)(),O=function(e){return Array.from(e.values()).map((function(e){return e.track})).filter((function(e){return null!==e}))};return Object(a.useEffect)((function(){s(O(t.videoTracks)),b(O(t.audioTracks));return t.on("trackSubscribed",(function(e){"video"===e.kind?s((function(t){return[].concat(Object(u.a)(t),[e])})):"audio"===e.kind&&b((function(t){return[].concat(Object(u.a)(t),[e])}))})),t.on("trackUnsubscribed",(function(e){"video"===e.kind?s((function(t){return t.filter((function(t){return t!==e}))})):"audio"===e.kind&&b((function(t){return t.filter((function(t){return t!==e}))}))})),function(){s([]),b([]),t.removeAllListeners()}}),[t]),Object(a.useEffect)((function(){var e=i[0];if(e)return e.attach(d.current),function(){e.detach()}}),[i]),Object(a.useEffect)((function(){var e=j[0];if(e)return e.attach(p.current),function(){e.detach()}}),[j]),Object(c.jsxs)("div",{className:"participant",children:[Object(c.jsx)("h3",{children:t.identity}),Object(c.jsx)("video",{ref:d,autoPlay:!0}),Object(c.jsx)("audio",{ref:p,autoPlay:!0,muted:!0})]})},Fe=function(e){var t=e.roomName,n=e.token,r=e.handleLogout,i=Object(a.useState)(null),s=Object(v.a)(i,2),o=s[0],l=s[1],j=Object(a.useState)([]),b=Object(v.a)(j,2),d=b[0],p=b[1];Object(a.useEffect)((function(){var e=function(e){p((function(t){return[].concat(Object(u.a)(t),[e])}))},c=function(e){p((function(t){return t.filter((function(t){return t!==e}))}))};return Ee.a.connect(n,{name:t}).then((function(t){l(t),t.on("participantConnected",e),t.on("participantDisconnected",c),t.participants.forEach(e)})),function(){l((function(e){return e&&"connected"===e.localParticipant.state?(e.localParticipant.tracks.forEach((function(e){e.track.stop()})),e.disconnect(),null):e}))}}),[t,n]);var O=d.map((function(e){return Object(c.jsx)(Re,{participant:e},e.sid)}));return Object(c.jsxs)("div",{className:"room",children:[Object(c.jsxs)("h2",{children:["Room: ",t]}),Object(c.jsx)("button",{onClick:r,children:"Log out"}),Object(c.jsx)("div",{className:"local-participant",children:o?Object(c.jsx)(Re,{participant:o.localParticipant},o.localParticipant.sid):""}),Object(c.jsx)("h3",{children:"Remote Participants"}),Object(c.jsx)("div",{className:"remote-participants",children:O})]})},Ie=function(){var e=Object(a.useState)(""),t=Object(v.a)(e,2),n=t[0],r=t[1],i=Object(a.useState)(""),s=Object(v.a)(i,2),o=s[0],l=s[1],j=Object(a.useState)(null),u=Object(v.a)(j,2),b=u[0],d=u[1],p=Object(a.useCallback)((function(e){r(e.target.value)}),[]),O=Object(a.useCallback)((function(e){l(e.target.value)}),[]),h=Object(a.useCallback)(function(){var e=Object(I.a)(F.a.mark((function e(t){var c;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,fetch("/video/token",{method:"POST",body:JSON.stringify({identity:n,room:o}),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()}));case 3:c=e.sent,d(c.token);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[o,n]),x=Object(a.useCallback)((function(e){d(null)}),[]);return b?Object(c.jsx)(Fe,{roomName:o,token:b,handleLogout:x}):Object(c.jsx)(Ce,{username:n,roomName:o,handleUsernameChange:p,handleRoomNameChange:O,handleSubmit:h})};var Pe=function(){var e=_();return Object(c.jsxs)("div",{children:[Object(c.jsx)("div",{children:Object(c.jsx)(W.a,{maxWidth:"lg",children:Object(c.jsxs)(B.a,{className:e.appBar,position:"static",color:"inherit",children:[Object(c.jsx)("img",{className:e.image,src:ke,alt:"icon",height:"45"}),Object(c.jsx)(D.a,{children:"Welcome to Rhema Virtual Room "})]})})}),Object(c.jsx)("div",{className:"app",children:Object(c.jsxs)("main",{children:[Object(c.jsx)(Ie,{}),Object(c.jsx)("br",{})]})})]})};var Le=function(){return Object(c.jsxs)(f.a,{history:i.browserHistory,children:[Object(c.jsx)(C,{}),Object(c.jsxs)(m.c,{children:[Object(c.jsx)(m.a,{exact:!0,path:"/",component:S}),Object(c.jsx)(m.a,{path:"/contactFacilitator",component:Ne}),Object(c.jsx)(m.a,{path:"/facilitator",component:Y}),Object(c.jsx)(m.a,{path:"/learner",component:G}),Object(c.jsx)(m.a,{path:"/vroom",component:Pe})]})]})},_e=function(){return Object(c.jsx)(Le,{})},We=(n(305),n(306),Object(l.e)(x,Object(l.d)(Object(l.a)(j.a))));s.a.render(Object(c.jsx)(r.a.StrictMode,{children:Object(c.jsx)(o.a,{store:We,children:Object(c.jsx)(_e,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[307,1,2]]]);
//# sourceMappingURL=main.68c30f4c.chunk.js.map